---

layout: post
title: Categorii

---
<div class="container mt-3">
<div class="wrapppr-cat card-deck mx-auto">
	<!-- Column -->
	<div class="item-cat card" style="background: url('https://unsplash.it/400/300?image=1081') no-repeat center/450px;">
		<p class="title-cat">Los Angeles</p>
		<p class="price-cat">$229<br><span>per day</span></p>
	</div>
	<!-- Column -->
	<!-- Column -->
	<div class="item-cat card" style="background: url('https://unsplash.it/400/300?image=1029') no-repeat center/450px;">
		<p class="title-cat">Los Angeles</p>
		<p class="price-cat">$229<br><span>per day</span></p>
	</div>
	<!-- Column -->
	<!-- Column -->
	<div class="item-cat card" style="background: url('https://unsplash.com/photos/ua5MgxDp5_E') no-repeat center/450;">
		<p class="title-cat">Los Angeles</p>
		<p class="price-cat">$229<br><span>per day</span></p>
	</div>
	<!-- Column -->

</div>
</div>

<!-- Diferite Produs -->
{% for item in page.categorie %}
{% increment counter %}
{% assign value = counter | modulo: 2 %}
{% if value == 1 %}
<div class="static-slider2 spacer" style="background-color: rgb(244, 248, 250) !important;">
{% else %}
<div class="static-slider2 spacer" style="background-color: white !important;">
{% endif %}
    <div class="container">
        <!-- Row  -->
        <div class="row">
            <!-- Column -->
            <div class="col-lg-12 align-self-center" data-aos="fade-right" data-aos-duration="1200">
                <h1 class="title">{{ item }}<span class="text-megna">.</span></h1>
				
				<div class="row container1 cont-over">	
				{% assign products = site.data.prod_org[ item ] | sort: "discount" | reverse %}  
        			{% for product in products limit: 8 %}
						{% if product.discount != 100 %}
							{% include product.html %}
						{% endif %}
        			{% endfor %}	
				</div>
				{% assign posts = site.posts %}
				{% for post in posts %}
					{% if post.categorie == item %} 
                <a class="btn btn-success-gradiant btn-md btn-arrow m-t-20 m-b-10" href="{{ post.url }}"><span>VEZI MAI MULT <i class="ti-arrow-right"></i></span></a>
					{% endif %}
        		{% endfor %}            </div>
            <!-- Column -->
        </div>
    </div>
</div>
{% endfor %}

<div id="output" class="container row">PRODUSE</div>
<div id="btn-group">
<input type="button" id="first" onclick="firstPage()" value="first" />
<input type="button" id="next" onclick="nextPage()" value="next" />
<input type="button" id="previous" onclick="previousPage()" value="previous" />
<input type="button" id="last" onclick="lastPage()" value="last" />
</div>
<input type="button" id="loadMore" onclick="loadMore()" value="Load More" />

<script>
	var fil = new Array(),
		output = '',
		 list = new Array(),
		 pageList = new Array(),
	     currentPage = 1,
		 numberPerPage = 20,
		 numberOfPages = 0;
		
		function change(custom) {
			 let url = custom;
				 fil = [];
				 pageList = [];
		function topFunction() {
		  document.body.scrollTop = 0; // For Safari
		  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
		}
		topFunction();
			return getProd();
			function getProd() {
				fetch(url)
				.then((res) => res.json())
				.then((data) => {
					var output = '', 
						page = data.length;		
						
					function loadList () {
						for (var i = 0; i < data.length ; i++) {
							fil.push(data[i]);
						}
						load();
						var begin = ((currentPage - 1) * numberPerPage);
						var end = begin + numberPerPage;
						pageList = fil.slice(begin, end);									
						check();
					}
					loadList();
					pageList.forEach(function(prod){
						output += `
			<!-- begin post -->
			<div class="col-lg-3 col-md-4 col-6 mb-30px item lazy card-group">
				<div class="card h-100">
						<div class="maxthumb" style="background: url(https://abpipzueen.cloudimg.io/width/254/x/${prod.product_pic}); background-size: contain; background-repeat: no-repeat; background-position: center;" >
						<span class="adv" >${prod.manufacturer}</span><br/>
						<span class="manufacturer" >${prod.manufacturer}</span><br/>
					</div>
					<div class="card-body-custom">
						<h2 class="card-title-custom"><a class="text-dark" href="${prod.product_aff_link}" target="_blank">${prod.product_name}</a></h2>     
					</div>
					<div class="card-footer bg-white">
						<div class="wrapfooter">
							<div>
							<span class="price">${prod.price_discounted} Lei <span class="old-price">${prod.price_vat} Lei</span></span>
							</div>
							<span class="perc">${prod.discount}%</span><br/> 
							<a class="citeste" data-toggle="modal" data-target="#mymodal{% increment modal %}" >DETALII</a>
						 </div>
					</div>
				</div>
			</div>
			<!-- end post -->
			`		
					});
					document.getElementById('output').innerHTML = output;
				})
			}      
	};
	window.onload = change('http://totredus.ro/api/prods3.json');
	
	///////////////////////
	///pagination
	///////////////////////
	
	function load(){
		numberOfPages = getNumberOfPages();
		console.log(numberOfPages);
		console.log(fil);
	}
	function getNumberOfPages() {
    return Math.ceil(fil.length / numberPerPage);
	}
	function nextPage() {
		currentPage += 1;
		change('totredus.ro/api/prods3.json');
		}
	function previousPage() {
		currentPage -= 1;
		change('totredus.ro/api/prods3.json');
		}
	function firstPage() {
		currentPage =1;
		change('totredus.ro/api/prods3.json');
		}
	function lastPage() {
		currentPage = numberOfPages;
		change('totredus.ro/api/prods3.json');
		}
	function check() {
		document.getElementById("next").disabled = currentPage == numberOfPages ? true : false;
		document.getElementById("previous").disabled = currentPage == 1 ? true : false;
		document.getElementById("first").disabled = currentPage == 1 ? true : false;
		document.getElementById("last").disabled = currentPage == numberOfPages ? true : false;
	}
	
</script>
	