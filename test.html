---

layout: page
title: Categorii

---
<style>
	.filt:disabled {
		color: darkgoldenrod;
	}
</style>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Dropdown button
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
	<input class="dropdown-item filt" type="button" id="" onclick="change();url ='https://totredus.ro/api/prods3.json';filTer = '';currentPage = 1;" value="All" />
	<input class="dropdown-item filt" type="button" id="" onclick="change();url ='https://totredus.ro/api/prods3.json';filTer = 'SAMSUNG';currentPage = 1;" value="SAMSUNG" />
	<input class="dropdown-item filt" type="button" id="" onclick="change();url ='https://totredus.ro/api/prods3.json';filTer = 'HTC';currentPage = 1;" value="HTC" />
	<input class="dropdown-item filt" type="button" id="" onclick="change();url ='https://totredus.ro/api/prods3.json';filTer = 'NOKIA'; currentPage = 1;" value="NOKIA" />
  </div>
</div>

<div id="output" class="container row">PRODUSE</div>
<div id="btn-group" style="text-align: center">
<input class="filt" type="button" id="first" onclick="firstPage()" value="prima" />
<input class="filt" type="button" id="previous" onclick="previousPage()" value="înapoi" />
<input class="filt" type="button" id="next" onclick="nextPage()" value="înainte" />
<input class="filt" type="button" id="last" onclick="lastPage()" value="ultima" />
</div>

<script>
	let newArr,
		output        = '',
		list          = new Array(),
		pageList      = new Array(),
	    currentPage   = 1,
		numberPerPage = 20,
		numberOfPages = 0,
		filTer        = '',
		url           = 'https://totredus.ro/api/prods3.json';

	var change = function () {
			 let fil      = [],
				 pageList = [];
		function topFunction() {
		  document.body.scrollTop = 0; // For Safari
		  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
		}
		topFunction();
			
			return getProd();
			function getProd() {
				fetch(url)
				.then((res) => res.json())
				.then((data) => {
					var output = '', 
						page = data.length;		
						
					function loadList () {
						for (var i = 0; i < page; i++) {
							if(data[i].manufacturer.indexOf(filTer) > -1 ){
							   fil.push(data[i]);
							}
						}
						newArr = fil.length;
						load();
						var begin = ((currentPage - 1) * numberPerPage);
						var end = begin + numberPerPage;
						pageList = fil.slice(begin, end);		
						check();
					}
					loadList();
					let a = 1;
					pageList.forEach(function(prod){
						a++;
						output += `
			<!-- begin post -->
			<div class="col-lg-3 col-md-4 col-6 mb-30px item lazy card-group">
				<div class="card h-100">
						<div class="maxthumb" style="background: url(https://abpipzueen.cloudimg.io/width/254/x/${prod.product_pic}); ${prod.adv_name == "answear.ro " ? 'background-size: cover;' : 'background-size: contain;'} background-repeat: no-repeat; background-position: center;" >
						<span class="adv" >${prod.manufacturer}</span><br/>
						<span class="manufacturer" >${prod.manufacturer}</span><br/>
					</div>
					<div class="card-body-custom">
						<h2 class="card-title-custom"><a class="text-dark" href="${prod.product_aff_link}" target="_blank">${prod.product_name}</a></h2>     
					</div>
					<div class="card-footer bg-white">
						<div class="wrapfooter">
							<div>
							<span class="price">${prod.price_discounted} Lei <span class="old-price">${prod.price_vat} Lei</span></span>
							</div>
							<span class="perc">${prod.discount}%</span><br/> 
							<a class="citeste" data-toggle="modal" data-target="#mymodal${a}">DETALII</a>
						 </div>
					</div>
				</div>
			</div>
			<!-- end post -->
			<!-- sample modal content -->
				<div id="mymodal${a}" class="modal fade custom-modal modal4 lazy" tabindex="-1" role="dialog" aria-hidden="true" style="display: none; 99991!important;">
					<div class="modal-dialog modal-lg mod-dia">
						<div style="border: 0; border-radius: 0;" class="modal-content po-relative">
							<div class="modal-body p-0">
								<div class="row">
									<span class="perc perc-mod">${prod.discount}%</span>
									<div class="col-lg-5 col-md-3 modal-bg-img center-mod" style="text-align: center;">
										<img src="https://abpipzueen.cloudimg.io/width/550/x/${prod.product_pic}">
									</div>
									<div class="col-lg-7 col-md-9">
										<div class="modal-bg">
											<h2 class="mod-title">
												${prod.product_name}
											</h2>
											<p class="adv-mod" >${prod.adv_name}</p>
											<p class="price-mod">${prod.price_discounted} Lei <span>${prod.price_vat}</span></p>
											<p class="${prod.shipping == "1" ? ' ' : 'd-none'}"><i class="icon-Truck"></i> TRANSPORT GRATUIT<p>
											<p class="${prod.gift == "1" ? '' : 'd-none'}"><i class="icon-Gift-Box"></i> CADOU INCLUS</p>
											<a href="${prod.product_aff_link}" onclick="ga('send', 'event', 'Blog Actions', 'click', 'Vezi Produs');" target="_blank" class="btn btn-danger-gradiant btn-md btn-arrow text-white"><span>Spre produs <i class="ti-arrow-right"></i></span></a>
											<br>
											<p class="description-mod ${prod.description ? '' : 'd-none'}">${prod.description}</p>
											<br>
											<p class="size-mod ${prod.size ? '' : 'd-none'}" >Mărimi: ${prod.size}</p>
									</div>
								</div>
								<a href="#" class="close-btn" data-dismiss="modal" aria-hidden="true">×</a>
							</div>
							</div>
						</div>
						<!-- /.modal-content -->
					</div>
					<!-- /.modal-dialog -->
				</div>`		
					});
					document.getElementById('output').innerHTML = output;
				})
			}      
	};
	window.onload = change();
	
	///////////////////////
	///pagination
	///////////////////////
	
	function load(){
		numberOfPages = getNumberOfPages();
	}
	function getNumberOfPages() {
    return Math.ceil(newArr / numberPerPage);
	}
	function nextPage() {
		currentPage += 1;
		change();
		}
	function previousPage() {
		currentPage -= 1;
		change();
		}
	function firstPage() {
		currentPage =1;
		change();
		}
	function lastPage() {
		currentPage = numberOfPages;
		change();
		}
	function check() {
		document.getElementById("next").disabled = currentPage == numberOfPages ? true : false;
		document.getElementById("previous").disabled = currentPage == 1 ? true : false;
		document.getElementById("first").disabled = currentPage == 1 ? true : false;
		document.getElementById("last").disabled = currentPage == numberOfPages ? true : false;
	}
	
	
</script>
	