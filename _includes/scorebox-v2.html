{% assign sum = 0%}
	{% for item in page.opt %}
		{% assign sum = sum | plus:item.value %}
	{% endfor %}
  {% assign number = page.opt | size | times: 10.0 %}
  {% assign total = sum | divided_by: number | round: 1 %}

  {% capture decimal %}{% endcapture %}

  {% capture progress4times %} {{ 10 | minus: total | times: 0.1 }} {% endcapture %}

  {% capture progress %}{{ 339.292 | times: progress4times }}{% endcapture %} 

<div id="scor" class="scor-box" style="margin-top: 15px; background: white; font-family: montserrat; line-height: 32px; margin-left: 0;">
	
  <div class="scoruri">
	<div class="circle-progress" style="margin-bottom: 50px;">
    <div class="titlu-scorebox">
		<h2 style="font-weight: 900;">SCOR: {{ page.nume }}</h2>
    </div>
     <div itemscope itemtype="http://schema.org/Rating" class="progress-bar-total">
				 <div style="position: relative;"><span class="percent" itemprop="ratingValue">{{ total }}</span><meta itemprop="bestRating" content="10" /></div>
				<svg class="progress-circle" width="120" height="120" viewBox="0 0 120 120">
					<circle cx="60" cy="60" r="50" fill="none" stroke="lightgray" stroke-width="12" stroke-dasharray="1, 8"/>
					<circle cx="60" cy="60" r="54" fill="none" stroke="#e6e6e6" stroke-width="12" />
					<circle class="progress__value-circle" style=" stroke-dashoffset: {{ progress }};" cx="60" cy="60" r="54" fill="none" stroke="#63d3d9" stroke-width="12" />
				</svg>
			</div>
    
		 <p style="text-align: justify;">{{ page.scor-intro }}</p>
	</div>
	<div class="col">
			{% for item in page.opt %}
				<div class="progress-div;" style="background: white; 	border-radius: 10px; border: solid 1px #eeeeee;">
						{% if item.value <= 25 %}
							<div class="progress-bar" role="progressbar" aria-valuenow="{{ item.value }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ item.value }}%; height: 12px; background-color: #d9dad9;"></div>
						{% elsif item.value > 25 and item.value <= 50 %}
							<div class="progress-bar" role="progressbar" aria-valuenow="{{ item.value }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ item.value }}%; height: 12px; background-color: #d9dad9;"></div>
						{% elsif item.value > 50 and item.value <= 75 %}
							<div class="progress-bar" role="progressbar" aria-valuenow="{{ item.value }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ item.value }}%; height: 12px; background: #d9dad9"></div>
						{% elsif item.value > 75 %}
							<div class="progress-bar" role="progressbar" aria-valuenow="{{ item.value }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ item.value }}%; height: 12px; background-color: #d9dad9;"></div>
						{% endif %}
			</div>
			<p class="features-score">{{ item.name | upcase }}<span style="float: right;">{{ item.value }}</span></p>
			{% endfor %}
	</div>
  </div>
  {% assign products = page.offers | where: "categorie", "PRODUS" %}
  {% if products.size > 0 %}
  <div class="" style="padding: 15px; position: relative;">
  <div class="row hori" id="scrollContent">
    {% for product in products %}
    <div class="col-lg-4 col-7 latime" style="padding: 5px 5px;">
      <div class="formare produs">
      <div class="product-header"><p style="text-align: center;">{{ product.titlu }}</p></div>
      <div style="padding: 5px;" class="container-imagine">
      <div class="product-imagine"><img src="/assets/images/reviews/{{ page.folder }}/{{- product.image-link -}}" width="250" height="250" alt="{{page.nume}}"></div>
      </div>
      <div class="product-footer">
        <a href="{{ product.url-produs }}"><button>VEZI PRET</button></a>
        <div class="magazin">
        <span>{{ product.magazin }}</span>
        </div>
      </div>
      </div>
    </div>
    {% endfor %}
  </div>
    <button class="scroll-arrow left-arrow" data-target="scrollContent">&lt;</button>
    <button class="scroll-arrow right-arrow" data-target="scrollContent">&gt;</button>
  </div>
{% endif %}




  <div class="scoruri">
	<div class="pros-cons row col-12">
			<div class="col-md-6 pros">
				<span class="titlu-scorebox">PRO</span>
					<ul style="list-style: none; padding-left: 24px;">
						{% for item in page.pro %}
							<li>{{ item }}</li>
						{% endfor %}
					</ul>
			</div>
			<div class="col-md-6 cons">
					<span class="titlu-scorebox">CONTRA</span>
					<ul style="list-style: none; padding-left: 24px;">
						{% for item in page.contra %}
							<li>{{ item }}</li>
						{% endfor %}
					</ul>
			</div>
	</div>
</div>
<br>
<div  class="scoruri">
  <div class="key row" style="text-align: center;">  
		<div class="col-12">	
    <span class="titlu-scorebox">SPECIFICATII CHEIE</span>
    </div>
				<ul style="list-style: none; padding: 0;">
					{% for item in page.key %}
						<li>{{ item }}</li>
					{% endfor %}
				</ul>
	 </div>
</div>

<!-- CUMPARA DACA -->
<br>
<div class="scoruri">
    {% if page.buyif %}
		<div class="pros-cons row col-12">
			<div class="col-md-6 pros">
					<span class="titlu-scorebox">CUMPĂRĂ DACĂ</span>
					<div style="list-style: none; padding-left: 5px;">
						{% for item in page.buyif %}
							<img fetchpriority="high" src="/assets/images/svg/buy.svg" class="small-svg buy" width="25" height="25" alt="cumpara daca icon"><span>{{ item }}</span><br>
						{% endfor %}
					</div>
			</div>
			<div class="col-md-6 cons">
					<span class="titlu-scorebox">NU CUMPĂRA DACĂ</span>
					<div style="list-style: none; padding-left: 5px;">
						{% for item in page.dontbuyif %}
						<img fetchpriority="high" src="/assets/images/svg/dontbuy.svg" class="small-svg buy" width="25" height="25" alt="icon nu cumpara daca">	<span>{{ item }}</span><br>
						{% endfor %}
					</div>
			</div>
	</div>
	{% endif %}
</div>

<!-- Verdict -->
<br>
<div class="scoruri">
	<div>
      <div style="">
			<span class="titlu-scorebox">VERDICT</span>
      </div>
			<img class="verdict-img" src="/assets/images/reviews/verdict.webp" alt="{{ page.title }}" width="100" height="100">
			<p style="text-align: justify;">{{ page.verdict }}</p>
	</div>
</div>


<!-- TRADUCERE CATEGORII MARI -->

<!-- SFARSIT TRADUCERE CATEGORII MARI -->



<br>
	<div class="scoruri">
		<span class="titlu-scorebox">SPECIFICATII</span>
		<div id="read-table" class="table-trunc">
		<div class="table-responsive">
    <table class="">
  <tbody>
  {% for category in page.all_specs %}
    {% assign category_name = category[0] %}
    {% case category_name %}
      {% when 'Network' %}
        {% assign category_name_ro = 'Rețea' %}
      {% when 'Launch' %}
        {% assign category_name_ro = 'Lansare' %}
      {% when 'Body' %}
        {% assign category_name_ro = 'Corp' %}
      {% when 'Display' %}
        {% assign category_name_ro = 'Afișaj' %}
      {% when 'Platform' %}
        {% assign category_name_ro = 'Platformă' %}
      {% when 'Memory' %}
        {% assign category_name_ro = 'Memorie' %}
      {% when 'Camera' %}
        {% assign category_name_ro = 'Cameră' %}
      {% when 'Sound' %}
        {% assign category_name_ro = 'Sunet' %}
      {% when 'Comms' %}
        {% assign category_name_ro = 'Comunicații' %}
      {% when 'Features' %}
        {% assign category_name_ro = 'Caracteristici' %}
      {% when 'Battery' %}
        {% assign category_name_ro = 'Baterie' %}
      {% when 'Misc' %}
        {% assign category_name_ro = 'Diverse' %}
      {% else %}
        {% assign category_name_ro = category_name %}
    {% endcase %}

    <tr>
      <th colspan="2">{{ category_name_ro }}</th>
    </tr>
    {% for item in category[1] %}
      <tr>
        <td class="greu">{{ item.title }}</td>
        <td>{{ item.info }}</td>
      </tr>
    {% endfor %}
  {% endfor %}
</tbody>
</table>

		</div>
	</div>
		<button id="read-table-btn" onclick="toggle();" style="font-family: montserrat;">VEZI TOATE SPECIFICATIILE</button>
</div>
</div>

<style>
  /*  CSS PENTRU OFERTE MAGAZIN  */
    @media only screen and (max-width: 600px) {
      .latime {
        flex: 0 0 55% !important;
        max-width: 55% ! important;
      }
      .product-header {
        height: 41px !important;
        line-height: 1.4 !important;
        margin-top: 10px !important;
      }
      .container-imagine {

      }
      .product-footer button {
        font-size: 13px !important;
        padding: 0px 16px !important;
        height: 37px !important;
      }
      .product-footer {
        padding-bottom: 10px !important;
        padding-top: 8px !important;
      }
      .scroll-arrow {
        display: none !important;
      }
      .product-imagine img {
      max-height: 180px !important;
      height: 180px !important;
    }
    }
    .greu {
      font-weight: 600;
  }
    .latime {
      flex: 0 0 37%;
      max-width: 37%;
    }
    .scroll-arrow {
      position: relative;
      cursor: pointer;
      top: 10px;
      border: solid 1px lightgray;
      font-weight: 900;
      width: 30px;
      height: 30px;
      border-radius: 3px;
      background: white;
      padding: 0;
      box-shadow: -2px 3px 7px -2px #00000047;
    }

    .left-arrow {
        left: -10px;
        z-index: 10;
    }

    .right-arrow {
        right: 0;
    }
    .hori {
      overflow-y: hidden;
      overflow-x: auto;
      flex-wrap: nowrap;
      scroll-behavior: smooth;
    /* Hide scrollbar for Chrome, Safari and Opera */
    &::-webkit-scrollbar {
        display: none;
    }

    /* Hide scrollbar for IE, Edge, and Firefox */
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
    }
    .hori::-webkit-scrollbar {
    display: none;
    }
    .formare {
      padding: 2px;
      margin-bottom: 10px;
    }
    .magazin {
    position: absolute;
    bottom: -26px;
    left: -3px;
    }
    .product-footer {
      position: relative;
      padding-bottom: 15px;
      padding-top: 15px;
    }
    .product-footer button {
      background: -webkit-gradient(linear,left top,right top,from(#ff8a00),to(#da1b60)) !important;
      background: linear-gradient(to right,#ff8a00,#da1b60) !important;
      text-decoration: none;
      box-shadow: 0px 0px 10px rgba(0,0,0,0.5);
      border: none;
      color: white;
      border-radius: 3px;
      text-transform: uppercase;
      padding: 7px 16px;
      font-weight: 600;
      width: 70%;
      height: 50px;
      font-size: 20px;
      cursor: pointer;
    }
    .magazin span {
    font-size: 12px;
    font-weight: 600;
    font-size: 12px;
    font-weight: 600;
    border: solid 1px #d3d3d380;
    border-top: 0;
    background: white;
    padding: 0px 3px;
    border-radius: 0px 0px 3px 3px;
    color: gray;
    }
    .product-header {
      height: 61px;
      overflow: hidden;
      line-height: 1.8;
      padding: 0px 7px;
      margin-top: 10px;
    }
    .product-header p {
      font-weight: 900;
    }
    .produs {
      border: solid 1px #d3d3d380;
      text-align: center;
      box-shadow: 0 0 19px -12px #0000004a;
      border-radius: 5px 5px 5px 0px;
    }
    .product-imagine img {
      max-height: 250px;
      width: auto;
      height: 250px;
    }
</style>

  
<style>
@media (min-width: 1000px) {
		.cons {
			border-left: solid 1px #e7e6e6;	
			}
}
.scoruri {
  box-shadow: 0 0 19px -11px lightgrey;
  padding: 15px;
  border-radius: 10px;
  }
.titlu-scorebox {
    margin-bottom: 0;
    font-size: 23px;
    font-weight: 900;
  }
.titlu-scorebox h2::after {
    display: none !important;
  }
.buy {
		position: relative;
		top: 8px;
		margin-right: 7px;
	}
.progress-div {
  height: 1rem;
  margin-bottom: 1rem;
  overflow: hidden;
  background: lightgrey;
	border-radius: 0.25rem;
}

.progress-bar {
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff;
  text-align: center;
  white-space: nowrap;
  transition: width 0.6s ease;
  background-color: #007bff;
	border-radius: 0.25rem;
}


#read-table-btn {
    border: 0;
    cursor: pointer;
    height: 44px;
    background: white;
    box-shadow: 0 0 16px -6px #b2a9a9;
    border-radius: 5px;
    padding: 2px;
    padding: 0px 31px;
    font-weight: 900;
    margin-top: 10px;
}

	.table-trunc {
		height: 320px;
		overflow: hidden;
	}
	.table-all {
		height: 100%;
	}
 .key ul li {
    border: solid 1px #d3d3d382;
    border-radius: 3px;
    display: inline-block;
    padding: 5px 10px;
    margin-bottom: 10px;
    color: black;
    font-weight: 500;
    }
	.key {
		text-align: center;
	}
</style>

<script>
// specificatii
function toggle() {
var content =	document.getElementById('read-table');
var button = document.getElementById('read-table-btn');
	if (content.className === "table-all") {
		content.className = "table-trunc";
		button.innerHTML = "VEZI TOATE SPECIFICATIILE"
	} else {
		content.className = "table-all";
		button.innerHTML = "VEZI MAI PUTINE";
	}
}
  
// Slider magazin oferte
document.addEventListener('DOMContentLoaded', function() {
    var leftArrows = document.querySelectorAll('.left-arrow');
    var rightArrows = document.querySelectorAll('.right-arrow');

    leftArrows.forEach(function(btn) {
        btn.addEventListener('click', function() {
            var targetId = btn.getAttribute('data-target');
            var scrollContent = document.getElementById(targetId);
            scrollContent.scrollBy({ left: -275, top: 0, behavior: 'smooth' });
        });
    });

    rightArrows.forEach(function(btn) {
        btn.addEventListener('click', function() {
            var targetId = btn.getAttribute('data-target');
            var scrollContent = document.getElementById(targetId);
            scrollContent.scrollBy({ left: 275, top: 0, behavior: 'smooth' });
        });
    });
});
</script>