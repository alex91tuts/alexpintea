<head>
   <link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
</head>

<head>
   <script src = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
</head>

<div class="col-12 harta">

<h2 class="fara-subliniere" id="harta-atractii-apropiere">HARTA ATRACÈšIILOR TURISTICE DIN {{ page.oras }}</h2>

<div id="map" style = "width:100%; height:580px;">
</div>

</div>

<script async>
   // Creating map options
   var mapOptions = {
      center: [{{page.latitudine}}, {{page.longitudine}}],
      zoom: 10
   }

   // Creating a map object
   var map = new L.map('map', mapOptions);

   // Creating a Layer object
   var layer = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');

   // Adding layer to the map
   map.addLayer(layer);
  
 
  // Custom icon options
var iconOptions = {
  iconUrl: '/assets/images/svg/map-marker-2.svg',
  iconSize: [50, 50]
};

// Creating a custom icon
var customIcon = L.icon(iconOptions);

// Markers with popup content and custom icon
var markers = [
  {% assign atractieid = site.new-travel | where: "cat", "atractie" | where: "id-oras", "222" %}
  {% if atractieid %}
  {% for trip in atractieid %}
    
  { coords: [{{trip.latitudine}}, {{trip.longitudine}}], popup: "<a href='{{ trip.url}}'>{{trip.atractie}}</a>" },
    
  {% endfor %}
  {% endif %}
];

// Adding markers to the map
markers.forEach(function(marker) {
  L.marker(marker.coords, { icon: customIcon })
    .bindPopup(marker.popup)
    .addTo(map);
});

  
</script>
<style>

</style>